// @ts-nocheck
let animationTime=0;const animationSpeed=1;let lanterns;function initAutoAnimation(){!function t(){animationTime+=1,updateAutoAnimation(),requestAnimationFrame(t)}()}function updateAutoAnimation(){const t=window.scrollY,e=document.getElementById("top1"),n=document.getElementById("top2"),i=document.getElementById("top3"),o=document.getElementById("top4"),a=.3*t,s=.5*t,r=1*animationTime,l=1*animationTime;if(e){const t=a+r;e.style.backgroundPosition=`center -${t}px`}if(i){const t=a+r;i.style.backgroundPosition=`center -${t}px`}if(n){const t=s+l;n.style.backgroundPosition=`center ${t}px`}if(o){const t=s+l;o.style.backgroundPosition=`center ${t}px`}}function scrollSide(t){const e=document.getElementsByClassName("transition-side");Array.from(e).forEach((t=>{t.style.transform="translateX(0)"}))}function initScrollReveal(){const t=document.querySelector(".theme-content");if(!t)return;new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&t.target.classList.add("visible")}))}),{threshold:.2,rootMargin:"0px 0px -200px 0px"}).observe(t)}window.addEventListener("DOMContentLoaded",(()=>{scrollSide(),initAutoAnimation(),initScrollReveal(),window.addEventListener("scroll",updateAutoAnimation),lanterns=new lantern})),window.addEventListener("scroll",(()=>{lanterns.update()}));class lantern{constructor(){this.width=window.innerWidth,this.height=window.innerHeight,this.lanternElements=[],this.lanternElem=null,this.initLanterns()}makeLantern(t,e,n,i,o,a,s,r=0,l=void 0){null===this.lanternElem&&console.error("Lantern element not initialized");const c=document.getElementById(n),d=c.getBoundingClientRect().top+c.offsetHeight*i/100,m=document.createElement("img");m.src="/asset/image/lantern.png",m.alt="",m.style.cssText=`position:absolute;${"l"===e?"left":"right"}:${t}%;top:${d}px;width:${.7*o}px;filter:blur(${a}px);pointer-events:none;rotate:${r}deg;z-index:${(()=>{switch(!0){case s>1:return 1;case s<1:return-1;default:return 0}})()};`,l&&m.classList.add(l),this.lanternElem.appendChild(m),this.lanternElements.push({elm:m,speed:s})}update(){this.lanternElements.forEach((t=>{this.updatePosition(t.elm,t.speed)}))}updatePosition(t,e){const n=t.offsetHeight/2,i=((window.scrollY+n)/(window.innerHeight/2)-1)*(e-1)*300;t.style.transform=`translateY(${i}px)`}initLanterns(){const t=document.createElement("div");t.id="lantern-container",t.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:90;overflow:hidden;",t.ariaHidden=!0,this.lanternElem=t,document.body.appendChild(t),this.makeLantern(5,"r","top",8,240,3,1.3,-8),this.makeLantern(23,"l","top",18,60,0,.7,12),this.makeLantern(5,"l","top",40,120,1,1,15,"pc"),this.makeLantern(25,"r","top",65,140,1,1,-6,"pc"),this.makeLantern(0,"l","about",0,250,3,1.3,-8,"pc"),this.makeLantern(5,"r","about",-30,160,1,1,15,"pc"),this.makeLantern(15,"r","about",100,80,0,.7,12,"pc"),this.makeLantern(0,"r","theme",-50,250,3,1.3,10,"pc"),this.makeLantern(5,"l","theme",80,160,1,1,-5,"pc"),this.makeLantern(5,"l","guest",20,70,1,.8,-8,"pc"),this.makeLantern(5,"r","guest",50,160,1,1,-15,"pc"),this.makeLantern(15,"l","guest",100,80,0,.8,12,"pc"),this.makeLantern(0,"l","timetable",-50,250,3,1.3,-8,"pc"),this.makeLantern(5,"r","timetable",0,160,1,1,15,"pc"),this.makeLantern(15,"l","timetable",100,80,0,.7,12,"pc"),this.update()}}