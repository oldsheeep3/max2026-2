// @ts-nocheck
let animationTime=0;const animationSpeed=1;let lanterns;function initAutoAnimation(){!function e(){animationTime+=1,updateAutoAnimation(),requestAnimationFrame(e)}()}function updateAutoAnimation(){const e=window.scrollY,t=document.getElementById("top1"),n=document.getElementById("top2"),i=document.getElementById("top3"),o=document.getElementById("top4"),a=.3*e,r=.5*e,s=1*animationTime,l=1*animationTime;if(t){const e=a+s;t.style.backgroundPosition=`center -${e}px`}if(i){const e=a+s;i.style.backgroundPosition=`center -${e}px`}if(n){const e=r+l;n.style.backgroundPosition=`center ${e}px`}if(o){const e=r+l;o.style.backgroundPosition=`center ${e}px`}}function scrollSide(e){const t=document.getElementsByClassName("transition-side");Array.from(t).forEach((e=>{e.style.transform="translateX(0)"}))}function initScrollReveal(){const e=document.querySelector(".theme-content");if(!e)return;new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("visible")}))}),{threshold:.2,rootMargin:"0px 0px -200px 0px"}).observe(e)}function handleHumburgerClick(){const e=document.getElementById("header-mobile");e&&e.classList.toggle("header-mobile-open")}window.addEventListener("DOMContentLoaded",(()=>{scrollSide(),initAutoAnimation(),initScrollReveal(),window.addEventListener("scroll",updateAutoAnimation),lanterns=new lantern;const e=document.getElementById("header-mobile");e&&e.addEventListener("click",handleHumburgerClick);document.querySelectorAll("header a.nav-item").forEach((e=>{e.addEventListener("click",(()=>{handleHumburgerClick()}))}))})),window.addEventListener("scroll",(()=>{lanterns.update()}));class lantern{constructor(){this.width=window.innerWidth,this.height=window.innerHeight,this.lanternElements=[],this.lanternElem=null,this.initLanterns()}makeLantern(e,t,n,i,o,a,r,s=0,l=void 0){null===this.lanternElem&&console.error("Lantern element not initialized");const c=document.getElementById(n),d=c.getBoundingClientRect().top+c.offsetHeight*i/100,m=document.createElement("img");m.src="/asset/image/lantern.png",m.alt="",m.style.cssText=`position:absolute;${"l"===t?"left":"right"}:${e}%;top:${d}px;width:${.7*o}px;filter:blur(${a}px);pointer-events:none;rotate:${s}deg;z-index:${(()=>{switch(!0){case r>1:return 1;case r<1:return-1;default:return 0}})()};`,l&&m.classList.add(l),this.lanternElem.appendChild(m),this.lanternElements.push({elm:m,speed:r})}update(){this.lanternElements.forEach((e=>{this.updatePosition(e.elm,e.speed)}))}updatePosition(e,t){const n=e.offsetHeight/2,i=((window.scrollY+n)/(window.innerHeight/2)-1)*(t-1)*300;e.style.transform=`translateY(${i}px)`}initLanterns(){const e=document.createElement("div");e.id="lantern-container",e.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:90;overflow:hidden;",e.ariaHidden=!0,this.lanternElem=e,document.body.appendChild(e),this.makeLantern(5,"r","top",8,240,3,1.3,-8),this.makeLantern(23,"l","top",18,60,0,.7,12),this.makeLantern(5,"l","top",40,120,1,1,15,"pc"),this.makeLantern(25,"r","top",65,140,1,1,-6,"pc"),this.makeLantern(0,"l","about",0,250,3,1.3,-8,"pc"),this.makeLantern(5,"r","about",-30,160,1,1,15,"pc"),this.makeLantern(15,"r","about",100,80,0,.7,12,"pc"),this.makeLantern(0,"r","theme",-50,250,3,1.3,10,"pc"),this.makeLantern(5,"l","theme",80,160,1,1,-5,"pc"),this.makeLantern(5,"l","guest",20,70,1,.8,-8,"pc"),this.makeLantern(5,"r","guest",50,160,1,1,-15,"pc"),this.makeLantern(15,"l","guest",100,80,0,.8,12,"pc"),this.makeLantern(0,"l","timetable",-50,250,3,1.3,-8,"pc"),this.makeLantern(5,"r","timetable",0,160,1,1,15,"pc"),this.makeLantern(15,"l","timetable",100,80,0,.7,12,"pc"),this.update()}}